{namespace vh=Tx_Powermail_ViewHelpers}

<div id="powermail_fieldwrap_{field.uid}" class="row powermail_fieldwrap powermail_fieldwrap_input powermail_fieldwrap_{field.uid} {field.css}">
  <label for="powermail_field_{field.marker}" class="small-3 large-3 columns powermail_label right inline">
    <vh:string.RawAndRemoveXss>{field.title}</vh:string.RawAndRemoveXss><f:if condition="{field.mandatory}"><span class="mandatory">*</span></f:if>
  </label>
  <f:if condition="{field.mandatory}">
    <f:then>
      <f:if condition="{field.validation} == 1">
        <f:then>
          <input type="email" id="powermail_field_{field.marker}" name="field[{field.uid}]" value="{vh:Misc.PrefillField(field: '{field}')}" class="small-9 large-9 columns powermail_field powermail_input {vh:Misc.ValidationClass(field: '{field}')} {vh:Misc.ErrorClass(field: '{field}', class: 'powermail_field_error')}" required="{field.mandatory}">
          <small class="error"><f:translate key="abide_email_required" /></small>
        </f:then>
        <f:else>
          <f:form.textfield   id="powermail_field_{field.marker}" name="field[{field.uid}]" value="{vh:Misc.PrefillField(field: '{field}')}" class="small-9 large-9 columns powermail_field powermail_input {vh:Misc.ValidationClass(field: '{field}')} {vh:Misc.ErrorClass(field: '{field}', class: 'powermail_field_error')}" required="{field.mandatory}" />
          <small class="error"><f:translate key="abide_input_required" /></small>
        </f:else>
      </f:if>
    </f:then>
    <f:else>
      <f:if condition="{field.validation} == 1">
        <f:then>
          <input type="email" id="powermail_field_{field.marker}" name="field[{field.uid}]" value="{vh:Misc.PrefillField(field: '{field}')}" class="small-9 large-9 columns powermail_field powermail_input {vh:Misc.ValidationClass(field: '{field}')} {vh:Misc.ErrorClass(field: '{field}', class: 'powermail_field_error')}">
          <small class="error"><f:translate key="abide_email_required" /></small>
        </f:then>
        <f:else>
          <f:form.textfield   id="powermail_field_{field.marker}" name="field[{field.uid}]" value="{vh:Misc.PrefillField(field: '{field}')}" class="small-9 large-9 columns powermail_field powermail_input {vh:Misc.ValidationClass(field: '{field}')} {vh:Misc.ErrorClass(field: '{field}', class: 'powermail_field_error')}" />
        </f:else>
      </f:if>
    </f:else>
  </f:if>
</div>